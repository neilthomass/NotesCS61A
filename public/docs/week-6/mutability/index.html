<!doctype html><html lang=en dir=ltr><head><script src="/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=livereload" data-no-instant defer></script><meta charset=UTF-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=description content='
  Mutability
  #


  Objects
  #

An object is a bundle of data and behaviour, with each type of object called a class.
Every value in Python is an object.
All objects have attributes, and objects often have associated methods.

  Example (Strings)
  #

A string is an object — try running type("") in Python console and seeing what it outputs.
Strings have attributes (for example the data inside it) and also has methods such as string.upper().'><meta name=theme-color media="(prefers-color-scheme: light)" content="#ffffff"><meta name=theme-color media="(prefers-color-scheme: dark)" content="#343a40"><meta name=color-scheme content="light dark"><meta property="og:url" content="http://localhost:1313/docs/week-6/mutability/"><meta property="og:site_name" content="CS61A NT"><meta property="og:title" content="Mutability"><meta property="og:description" content='Mutability # Objects # An object is a bundle of data and behaviour, with each type of object called a class.
Every value in Python is an object.
All objects have attributes, and objects often have associated methods.
Example (Strings) # A string is an object — try running type("") in Python console and seeing what it outputs.
Strings have attributes (for example the data inside it) and also has methods such as string.upper().'><meta property="og:locale" content="en"><meta property="og:type" content="article"><meta property="article:section" content="docs"><title>Mutability | CS61A NT</title>
<link rel=icon href=/favicon.png><link rel=manifest href=/manifest.json><link rel=canonical href=http://localhost:1313/docs/week-6/mutability/><link rel=stylesheet href=/book.min.a7616cf2799b58bddffce9438e31fdbfc6393687cfc0950a4a17cd1cce7e35f6.css integrity="sha256-p2Fs8nmbWL3f/OlDjjH9v8Y5NofPwJUKShfNHM5+NfY=" crossorigin=anonymous><script defer src=/fuse.min.js></script><script defer src=/en.search.min.c7ae51f584126b4a11733ecf708e4bea18be3f7cd29997867583234c3fbf7213.js integrity="sha256-x65R9YQSa0oRcz7PcI5L6hi+P3zSmZeGdYMjTD+/chM=" crossorigin=anonymous></script><script defer src=/sw.min.6f6f90fcb8eb1c49ec389838e6b801d0de19430b8e516902f8d75c3c8bd98739.js integrity="sha256-b2+Q/LjrHEnsOJg45rgB0N4ZQwuOUWkC+NdcPIvZhzk=" crossorigin=anonymous></script></head><body dir=ltr><input type=checkbox class="hidden toggle" id=menu-control>
<input type=checkbox class="hidden toggle" id=toc-control><main class="container flex"><aside class=book-menu><div class=book-menu-content><nav><h2 class=book-brand><a class="flex align-center" href=/><span>CS61A NT</span></a></h2><div class="book-search hidden"><input type=text id=book-search-input placeholder=Search aria-label=Search maxlength=64 data-hotkeys=s/><div class="book-search-spinner hidden"></div><ul id=book-search-results></ul></div><script>document.querySelector(".book-search").classList.remove("hidden")</script><ul><li><a href target=_blank rel=noopener></a></li></ul><ul><li class=book-section-flat><span>Week 1</span><ul><li><a href=/docs/week-1/basics-of-python/>Basics of Python</a></li></ul></li><li class=book-section-flat><span>Week 2</span><ul><li><a href=/docs/week-2/control/>Control</a></li><li><a href=/docs/week-2/higher-order-functions/>Higher Order Functions</a></li><li><a href=/docs/week-2/environment-diagrams/>Environment Diagrams</a></li></ul></li><li class=book-section-flat><span>Week 3</span><ul><li><a href=/docs/week-3/decorators/>Decorators</a></li><li><a href=/docs/week-3/design/>Design</a></li></ul></li><li class=book-section-flat><span>Week 4</span><ul><li><a href=/docs/week-4/recursion/>Recursion</a></li><li><a href=/docs/week-4/tree-recursion/>Tree Recursion</a></li></ul></li><li class=book-section-flat><span>Week 5</span><ul><li><a href=/docs/week-5/containers/>Containers</a></li><li><a href=/docs/week-5/data-abstraction/>Data Abstraction</a></li><li><a href=/docs/week-5/sequences/>Sequences</a></li></ul></li><li class=book-section-flat><span>Week 6</span><ul><li><a href=/docs/week-6/mutability/ class=active>Mutability</a></li><li><a href=/docs/week-6/trees/>Trees</a></li></ul></li><li class=book-section-flat><span>Week 7</span><ul><li><a href=/docs/week-7/generators/>Generators</a></li><li><a href=/docs/week-7/iterators/>Iterators</a></li><li><a href=/docs/week-7/objects/>Objects</a></li></ul></li><li class=book-section-flat><span>Week 8</span><ul><li><a href=/docs/week-8/inheritance/>Inheritance</a></li><li><a href=/docs/week-8/recursive-data/>Recursive Data</a></li><li><a href=/docs/week-8/representation/>String Interpolation and Representation</a></li></ul></li><li class=book-section-flat><span>Week 9</span><ul><li><a href=/docs/week-9/efficiency/>Efficiency</a></li></ul></li><li class=book-section-flat><span>Week 10</span><ul><li><a href=/docs/week-10/break/>No Content This Week</a></li></ul></li><li class=book-section-flat><span>Week 11</span><ul><li><a href=/docs/week-11/scheme-lists/>Scheme Lists</a></li><li><a href=/docs/week-11/scheme/>Scheme Specification</a></li></ul></li><li class=book-section-flat><span>Week 12</span><ul><li><a href=/docs/week-12/calculator-language/>Calculator Language</a></li><li><a href=/docs/week-12/interpreting-scheme/>Interpreting Scheme</a></li><li><a href=/docs/week-12/macros-exceptions/>Macros and Exceptions</a></li></ul></li><li class=book-section-flat><span>Week 13</span><ul><li><a href=/docs/week-13/sql-intro/>SQL</a></li></ul></li></ul><ul><li><a href=https://linkedin.com/in/neiltthomas target=_blank rel=noopener>About Me</a></li></ul></nav><script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script></div></aside><div class=book-page><header class=book-header><div class="flex align-center justify-between"><label for=menu-control><img src=/svg/menu.svg class=book-icon alt=Menu></label><h3>Mutability</h3><label for=toc-control><img src=/svg/toc.svg class=book-icon alt="Table of Contents"></label></div><aside class="hidden clearfix"><nav id=TableOfContents><ul><li><a href=#mutability>Mutability</a><ul><li><a href=#objects>Objects</a><ul><li><a href=#example-strings>Example (Strings)</a></li></ul></li><li><a href=#list-mutation>List Mutation</a><ul><li><a href=#method-mutation-removing>Method Mutation (Removing)</a></li><li><a href=#mutation-with-slicing>Mutation with Slicing</a></li><li><a href=#python-weirdness>Python Weirdness</a></li></ul></li><li><a href=#tuples>Tuples</a></li><li><a href=#identity-vs-equality>Identity vs Equality</a></li><li><a href=#mutable-functions-a-function-with-changing-state>&lsquo;Mutable&rsquo; Functions (A function with changing state)</a></li></ul></li></ul></nav></aside></header><article class="markdown book-article"><h1 id=mutability>Mutability
<a class=anchor href=#mutability>#</a></h1><h2 id=objects>Objects
<a class=anchor href=#objects>#</a></h2><p>An object is a bundle of data and behaviour, with each type of object called a class.</p><p>Every value in Python is an object.</p><p>All objects have attributes, and objects often have associated methods.</p><h3 id=example-strings>Example (Strings)
<a class=anchor href=#example-strings>#</a></h3><p>A string is an object — try running <code>type("")</code> in Python console and seeing what it outputs.</p><p>Strings have attributes (for example the data inside it) and also has methods such as <code>string.upper()</code>.</p><h2 id=list-mutation>List Mutation
<a class=anchor href=#list-mutation>#</a></h2><p>Lists (like dictionaries) are object types that can be mutated. This means that the value bound to the name can change without reassignment. This can potentially be very useful, but at times, can also be very dangerous due to the way Python works with lists.</p><p>Two methods to mutate lists:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>s <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>s<span style=color:#f92672>.</span>append(<span style=color:#ae81ff>3</span>)
</span></span><span style=display:flex><span>s <span style=color:#75715e># [1, 2, 3]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>l <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>l<span style=color:#f92672>.</span>extend([<span style=color:#ae81ff>4</span>])
</span></span><span style=display:flex><span>l <span style=color:#75715e># [1, 2, 4]</span>
</span></span><span style=display:flex><span>l<span style=color:#f92672>.</span>extend([<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>])
</span></span><span style=display:flex><span>l <span style=color:#75715e># [1, 2, 4, 3, 2]</span>
</span></span></code></pre></div><p>While these look identical to <code>s = s + [3]</code>, they behave very differently. This is because the + operator makes a shallow copy of the list rather than directly mutating the list itself. This makes a difference when two names are pointing to the same list object.</p><p>Try running the code below on PythonTutor:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>lst1 <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>]
</span></span><span style=display:flex><span>lst2 <span style=color:#f92672>=</span> lst1
</span></span><span style=display:flex><span>lst3 <span style=color:#f92672>=</span> lst2
</span></span><span style=display:flex><span><span style=color:#75715e># Notice how after the above 3 statements are executed, all 3 names point to the same list object</span>
</span></span><span style=display:flex><span>lst1 <span style=color:#f92672>=</span> lst1 <span style=color:#f92672>+</span> [<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>] <span style=color:#75715e># Makes a copy of the list, does not mutate the original</span>
</span></span><span style=display:flex><span>lst2<span style=color:#f92672>.</span>append(<span style=color:#ae81ff>4</span>)
</span></span><span style=display:flex><span>print(lst1) <span style=color:#75715e># [1, 2, 3, 3, 2]</span>
</span></span><span style=display:flex><span>print(lst2, lst3) <span style=color:#75715e># [1, 2, 3, 4] [1, 2, 3, 4]</span>
</span></span></code></pre></div><p>Notice how even after I updated only lst2, lst3 got updated alongside it. This is one of the dangers of mutation (and is why I generally prefer to use a method that doesn&rsquo;t mutate anything: it makes debugging a lot easier when variables aren&rsquo;t changing without explicitly being assigned to change.)</p><h3 id=method-mutation-removing>Method Mutation (Removing)
<a class=anchor href=#method-mutation-removing>#</a></h3><ul><li><code>pop()</code> returns and removes the last element in the list</li><li><code>remove()</code> removes the first element equal to the argument</li></ul><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>s <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>s<span style=color:#f92672>.</span>pop()
</span></span><span style=display:flex><span>s <span style=color:#75715e># [1]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>l <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>4</span>]
</span></span><span style=display:flex><span>l<span style=color:#f92672>.</span>remove(<span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>l <span style=color:#75715e># [1, 4]</span>
</span></span></code></pre></div><h3 id=mutation-with-slicing>Mutation with Slicing
<a class=anchor href=#mutation-with-slicing>#</a></h3><p>You can also mutate lists with list slicing or indexing:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>lst <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>, <span style=color:#ae81ff>5</span>]
</span></span><span style=display:flex><span>lst[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> <span style=color:#e6db74>&#34;Hi&#34;</span>
</span></span><span style=display:flex><span>lst <span style=color:#75715e># [&#34;Hi&#39;, 2, 3, 4, 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>lst[<span style=color:#ae81ff>1</span>:<span style=color:#ae81ff>3</span>] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>25</span>, <span style=color:#ae81ff>6</span>]
</span></span><span style=display:flex><span>lst <span style=color:#75715e># [&#34;Hi&#34;, 25, 6, 4, 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>lst[<span style=color:#ae81ff>1</span>:<span style=color:#ae81ff>1</span>] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>2</span>, <span style=color:#ae81ff>1</span>] <span style=color:#75715e># Inserting Elements</span>
</span></span><span style=display:flex><span>lst <span style=color:#75715e># [&#34;Hi&#34;, 3, 2, 1, 25, 6, 4, 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>lst[:<span style=color:#ae81ff>5</span>] <span style=color:#f92672>=</span> [] <span style=color:#75715e># Deleting Elements</span>
</span></span><span style=display:flex><span>lst <span style=color:#75715e># [6, 4, 5]</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>lst[len(lst):] <span style=color:#f92672>=</span> [<span style=color:#ae81ff>3</span>] <span style=color:#75715e># Appending elements</span>
</span></span><span style=display:flex><span>lst <span style=color:#75715e># [6, 4, 5, 3]</span>
</span></span></code></pre></div><p>All the statements above mutate the list that we have.</p><h3 id=python-weirdness>Python Weirdness
<a class=anchor href=#python-weirdness>#</a></h3><p>In Python, doing <code>lst = lst + [1]</code> is different to <code>lst += [1]</code>.</p><p><code>+=</code> actually acts as <code>.extend([...])</code> rather than making a copy. As a result, doing <code>lst += [1]</code> mutates the original list, while <code>lst = lst + [1]</code> does not mutate the original. Weird behaviour, sure, but this is very important to know.</p><h2 id=tuples>Tuples
<a class=anchor href=#tuples>#</a></h2><p>Tuples are a data type that are immutable. This means that once the tuple is created and assigned to a name, you can be confident that the tuple will always remain the same unless the name is bound to a different value.</p><p>Tuples are also a sequence, which means you can view them as essentially immutable lists.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>empty <span style=color:#f92672>=</span> () <span style=color:#75715e># empty tuple</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>coordinates <span style=color:#f92672>=</span> (<span style=color:#ae81ff>32</span>, <span style=color:#ae81ff>21</span>) <span style=color:#75715e># tuple with multiple elements</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>temperature <span style=color:#f92672>=</span> (<span style=color:#ae81ff>30</span>,) <span style=color:#75715e># tuple with 1 element (the , at the end is necessary for python to parse it as a tuple)</span>
</span></span></code></pre></div><p>The read-only list operators work with tuples:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>t1 <span style=color:#f92672>=</span> (<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>)
</span></span><span style=display:flex><span>t2 <span style=color:#f92672>=</span> (<span style=color:#ae81ff>3</span>, <span style=color:#ae81ff>4</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>t3 <span style=color:#f92672>=</span> t1 <span style=color:#f92672>+</span> t2 
</span></span><span style=display:flex><span>t3 <span style=color:#75715e># (1, 2, 3, 4)</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> <span style=color:#f92672>in</span> t2 <span style=color:#75715e># False</span>
</span></span><span style=display:flex><span><span style=color:#ae81ff>1</span> <span style=color:#f92672>in</span> t3 <span style=color:#75715e># True</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>t4 <span style=color:#f92672>=</span> t3[<span style=color:#ae81ff>1</span>:] <span style=color:#75715e># (2, 3, 4)</span>
</span></span></code></pre></div><h2 id=identity-vs-equality>Identity vs Equality
<a class=anchor href=#identity-vs-equality>#</a></h2><p>Identity vs Equality essentially boils down to <code>is</code> vs <code>==</code>. The <code>is</code> Boolean operator checks whether the objects are the same (for example in the case of a list, whether the two names are pointing to the same list), while the <code>==</code> operator just checks whether the values are the same.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span>lst1 <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>lst2 <span style=color:#f92672>=</span> lst1
</span></span><span style=display:flex><span>lst3 <span style=color:#f92672>=</span> [<span style=color:#ae81ff>1</span>, <span style=color:#ae81ff>2</span>]
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>lst1 <span style=color:#f92672>is</span> lst2 <span style=color:#75715e># True</span>
</span></span><span style=display:flex><span>lst1 <span style=color:#f92672>is</span> lst3 <span style=color:#75715e># False</span>
</span></span><span style=display:flex><span>lst1 <span style=color:#f92672>==</span> lst3 <span style=color:#75715e># True</span>
</span></span></code></pre></div><h2 id=mutable-functions-a-function-with-changing-state>&lsquo;Mutable&rsquo; Functions (A function with changing state)
<a class=anchor href=#mutable-functions-a-function-with-changing-state>#</a></h2><p>You can have a function that changes state by having a mutable object in the parent frame:</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>bank</span>(initial_fund):
</span></span><span style=display:flex><span>    bank_account <span style=color:#f92672>=</span> [initial_fund]
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>withdraw</span>(amount):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> bank_account[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>&lt;</span> amount:
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> <span style=color:#e6db74>&#34;NO!&#34;</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            bank_account[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>=</span> bank_account[<span style=color:#ae81ff>0</span>] <span style=color:#f92672>-</span> amount
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>return</span> bank_account
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>return</span> withdraw
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>withdrawer <span style=color:#f92672>=</span> bank(<span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>withdrawer(<span style=color:#ae81ff>25</span>) <span style=color:#75715e># 75</span>
</span></span><span style=display:flex><span>withdrawer(<span style=color:#ae81ff>25</span>) <span style=color:#75715e># 50</span>
</span></span></code></pre></div></article><footer class=book-footer><div class="flex flex-wrap justify-between"></div><script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script></footer><div class=book-comments></div><label for=menu-control class="hidden book-menu-overlay"></label></div><aside class=book-toc><div class=book-toc-content><nav id=TableOfContents><ul><li><a href=#mutability>Mutability</a><ul><li><a href=#objects>Objects</a><ul><li><a href=#example-strings>Example (Strings)</a></li></ul></li><li><a href=#list-mutation>List Mutation</a><ul><li><a href=#method-mutation-removing>Method Mutation (Removing)</a></li><li><a href=#mutation-with-slicing>Mutation with Slicing</a></li><li><a href=#python-weirdness>Python Weirdness</a></li></ul></li><li><a href=#tuples>Tuples</a></li><li><a href=#identity-vs-equality>Identity vs Equality</a></li><li><a href=#mutable-functions-a-function-with-changing-state>&lsquo;Mutable&rsquo; Functions (A function with changing state)</a></li></ul></li></ul></nav></div></aside></main></body></html>