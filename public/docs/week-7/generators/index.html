<!DOCTYPE html>
<html lang="en" dir="ltr">
<head><script src="/cs61a/livereload.js?mindelay=10&amp;v=2&amp;port=1313&amp;path=cs61a/livereload" data-no-instant defer></script>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta name="description" content="
  What is a Generator
  #

Generators can be used to create your own iterators with custom values. This is useful when you want to create an iterator with unpredictable results (for example numbers with irregular intervals, possibly based on different arguments in a given function).
The way you define a generator function is through the yield keyword (instead of return in a function). In this sense, a generator is a type of iterator that yields results from a generator function.">
<meta name="theme-color" media="(prefers-color-scheme: light)" content="#ffffff">
<meta name="theme-color" media="(prefers-color-scheme: dark)" content="#343a40">
<meta name="color-scheme" content="light dark"><meta property="og:url" content="https://neilthomass.github.io:1313/cs61a/docs/week-7/generators/">
  <meta property="og:site_name" content="CS61A NT">
  <meta property="og:title" content="Generators">
  <meta property="og:description" content="What is a Generator # Generators can be used to create your own iterators with custom values. This is useful when you want to create an iterator with unpredictable results (for example numbers with irregular intervals, possibly based on different arguments in a given function).
The way you define a generator function is through the yield keyword (instead of return in a function). In this sense, a generator is a type of iterator that yields results from a generator function.">
  <meta property="og:locale" content="en">
  <meta property="og:type" content="article">
    <meta property="article:section" content="docs">
    <meta property="article:modified_time" content="2025-04-30T17:44:57-07:00">
<title>Generators | CS61A NT</title>
<link rel="icon" href="/cs61a/favicon.png" >
<link rel="manifest" href="/cs61a/manifest.json">
<link rel="canonical" href="https://neilthomass.github.io:1313/cs61a/docs/week-7/generators/">
<link rel="stylesheet" href="/cs61a/book.min.a7616cf2799b58bddffce9438e31fdbfc6393687cfc0950a4a17cd1cce7e35f6.css" integrity="sha256-p2Fs8nmbWL3f/OlDjjH9v8Y5NofPwJUKShfNHM5&#43;NfY=" crossorigin="anonymous">
  <script defer src="/cs61a/fuse.min.js"></script>
  <script defer src="/cs61a/en.search.min.820683db81da223492db71e6068c669e834fb9c9924e1c409a37c6678184cbe1.js" integrity="sha256-ggaD24HaIjSS23HmBoxmnoNPucmSThxAmjfGZ4GEy&#43;E=" crossorigin="anonymous"></script>

  <script defer src="/cs61a/sw.min.c5426bb5f67ff745bd2ede683f7c618cbc0ab00dc6f62c6d83d8a711babe222a.js" integrity="sha256-xUJrtfZ/90W9Lt5oP3xhjLwKsA3G9ixtg9inEbq&#43;Iio=" crossorigin="anonymous"></script>
<!--
Made with Book Theme
https://github.com/alex-shpak/hugo-book
-->
  
</head>
<body dir="ltr">
  <input type="checkbox" class="hidden toggle" id="menu-control" />
  <input type="checkbox" class="hidden toggle" id="toc-control" />
  <main class="container flex">
    <aside class="book-menu">
      <div class="book-menu-content">
        
  <nav>
<h2 class="book-brand">
  <a class="flex align-center" href="/cs61a/"><span>CS61A NT</span>
  </a>
</h2>


<div class="book-search hidden">
  <input type="text" id="book-search-input" placeholder="Search" aria-label="Search" maxlength="64" data-hotkeys="s/" />
  <div class="book-search-spinner hidden"></div>
  <ul id="book-search-results"></ul>
</div>
<script>document.querySelector(".book-search").classList.remove("hidden")</script>







  
<ul>
  
  <li>
    <a href=""  target="_blank" rel="noopener">
        
      </a>
  </li>
  
</ul>










  
  <ul>
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 1</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-1/basics-of-python/" class="">Basics of Python</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 2</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-2/control/" class="">Control</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-2/higher-order-functions/" class="">Higher Order Functions</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-2/environment-diagrams/" class="">Environment Diagrams</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 3</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-3/decorators/" class="">Decorators</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-3/design/" class="">Design</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 4</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-4/recursion/" class="">Recursion</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-4/tree-recursion/" class="">Tree Recursion</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 5</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-5/containers/" class="">Containers</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-5/data-abstraction/" class="">Data Abstraction</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-5/sequences/" class="">Sequences</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 6</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-6/mutability/" class="">Mutability</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-6/trees/" class="">Trees</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 7</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-7/generators/" class="active">Generators</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-7/iterators/" class="">Iterators</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-7/objects/" class="">Objects</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 8</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-8/inheritance/" class="">Inheritance</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-8/recursive-data/" class="">Recursive Data</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-8/representation/" class="">String Interpolation and Representation</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 9</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-9/efficiency/" class="">Efficiency</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 10</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-10/break/" class="">No Content This Week</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 11</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-11/scheme-lists/" class="">Scheme Lists</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-11/scheme/" class="">Scheme Specification</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 12</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-12/calculator-language/" class="">Calculator Language</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-12/interpreting-scheme/" class="">Interpreting Scheme</a>
  

        </li>
      
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-12/macros-exceptions/" class="">Macros and Exceptions</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
      
        <li class="book-section-flat" >
          
  
  

  
    <span>Week 13</span>
  

          
  <ul>
    
      
        <li>
          
  
  

  
    <a href="/cs61a/docs/week-13/sql-intro/" class="">SQL</a>
  

        </li>
      
    
  </ul>

        </li>
      
    
  </ul>










  
<ul>
  
  <li>
    <a href="https://neilthomass.github.io/author"  target="_blank" rel="noopener">
        About Me
      </a>
  </li>
  
</ul>






</nav>




  <script>(function(){var e=document.querySelector("aside .book-menu-content");addEventListener("beforeunload",function(){localStorage.setItem("menu.scrollTop",e.scrollTop)}),e.scrollTop=localStorage.getItem("menu.scrollTop")})()</script>


 
      </div>
    </aside>

    <div class="book-page">
      <header class="book-header">
        
  <div class="flex align-center justify-between">
  <label for="menu-control">
    <img src="/cs61a/svg/menu.svg" class="book-icon" alt="Menu" />
  </label>

  <h3>Generators</h3>

  <label for="toc-control">
    
    <img src="/cs61a/svg/toc.svg" class="book-icon" alt="Table of Contents" />
    
  </label>
</div>


  
  <aside class="hidden clearfix">
    
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-a-generator">What is a Generator</a>
      <ul>
        <li><a href="#how-generators-work">How Generators Work</a></li>
        <li><a href="#why-use-generators">Why Use Generators?</a>
          <ul>
            <li><a href="#example-fibonacci-numbers">Example: Fibonacci Numbers</a></li>
          </ul>
        </li>
        <li><a href="#yield-from">Yield From</a></li>
        <li><a href="#generator-functions-with-returns">Generator Functions with Returns</a>
          <ul>
            <li><a href="#with-return-values">With Return Values</a></li>
          </ul>
        </li>
        <li><a href="#count-partitions-yield">Count Partitions (Yield)</a></li>
      </ul>
    </li>
  </ul>
</nav>



  </aside>
  
 
      </header>

      
      
  <article class="markdown book-article"><h1 id="what-is-a-generator">
  What is a Generator
  <a class="anchor" href="#what-is-a-generator">#</a>
</h1>
<p>Generators can be used to create your own iterators with custom values. This is useful when you want to create an iterator with unpredictable results (for example numbers with irregular intervals, possibly based on different arguments in a given function).</p>
<p>The way you define a generator function is through the yield keyword (instead of return in a function). In this sense, a generator is a type of iterator that yields results from a generator function.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">numbers</span>():
</span></span><span style="display:flex;"><span>    num <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> num <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> num
</span></span><span style="display:flex;"><span>        num <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span></code></pre></div><p>Calling the generator function will return a generator (which itself is an iterator, which means the next function works similarly to how it does for iterators):</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span>num_iter <span style="color:#f92672">=</span> numbers()
</span></span><span style="display:flex;"><span>next(num_iter) <span style="color:#75715e"># 0</span>
</span></span><span style="display:flex;"><span>next(num_iter) <span style="color:#75715e"># 1</span>
</span></span><span style="display:flex;"><span>next(num_iter) <span style="color:#75715e"># 2</span>
</span></span><span style="display:flex;"><span>next(num_iter) <span style="color:#75715e"># StopIterator</span>
</span></span></code></pre></div><h2 id="how-generators-work">
  How Generators Work
  <a class="anchor" href="#how-generators-work">#</a>
</h2>
<p>When the function called, Python immediately returns an iterator without running any lines of code in the function itself.</p>
<p>When next is called on the iterator, it starts executing the body of the function until it hits the first yield statement. Once it hits the yield statement, the function pauses execution (not to be confused with return where the function completely stops executing), and when next is called again, the function will continue executing from where it paused. If it doesn&rsquo;t find any yield statements from there, it raises a StopIteration exception.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">printer</span>(n):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;we have started&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>        n <span style="color:#f92672">=</span> n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>printing <span style="color:#f92672">=</span> printer(<span style="color:#ae81ff">0</span>)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>next(printing)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># we have started</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 0</span>
</span></span><span style="display:flex;"><span>next(printing)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1</span>
</span></span><span style="display:flex;"><span>next(printing)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2</span>
</span></span><span style="display:flex;"><span>next(printing)
</span></span><span style="display:flex;"><span><span style="color:#75715e"># StopIteration</span>
</span></span></code></pre></div><p>We can use for loops over generators like we can over iterators:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">printer</span>(n):
</span></span><span style="display:flex;"><span>    print(<span style="color:#e6db74">&#34;we have started&#34;</span>)
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">3</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>        n <span style="color:#f92672">=</span> n <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#66d9ef">for</span> item <span style="color:#f92672">in</span> printer(<span style="color:#ae81ff">0</span>):
</span></span><span style="display:flex;"><span>    print(item)
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># we have started (goes through the function body as normal)</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 0</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 1</span>
</span></span><span style="display:flex;"><span><span style="color:#75715e"># 2</span>
</span></span></code></pre></div><h2 id="why-use-generators">
  Why Use Generators?
  <a class="anchor" href="#why-use-generators">#</a>
</h2>
<p>For some functions, using generators can save a lot of computing time. This is because they only generate the next item when needed (instead of having to find every solution in a recursive solution for example, you can just compute one element as a time (as you need it) in certain situations).</p>
<h3 id="example-fibonacci-numbers">
  Example: Fibonacci Numbers
  <a class="anchor" href="#example-fibonacci-numbers">#</a>
</h3>
<p>Instead of an iterative solution:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">fib</span>(n):
</span></span><span style="display:flex;"><span>    prev <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    curr <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    iterations <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> iterations <span style="color:#f92672">&lt;</span> n:
</span></span><span style="display:flex;"><span>        prev, curr <span style="color:#f92672">=</span> curr, prev <span style="color:#f92672">+</span> curr
</span></span><span style="display:flex;"><span>        iterations <span style="color:#f92672">+=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> curr
</span></span></code></pre></div><p>we can use a generator for this:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">gen_fib</span>():
</span></span><span style="display:flex;"><span>    prev <span style="color:#f92672">=</span> <span style="color:#ae81ff">0</span>
</span></span><span style="display:flex;"><span>    curr <span style="color:#f92672">=</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">while</span> <span style="color:#66d9ef">True</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> prev
</span></span><span style="display:flex;"><span>        prev, curr <span style="color:#f92672">=</span> curr, prev <span style="color:#f92672">+</span> curr
</span></span></code></pre></div><p>This will allow you to generate Fibonacci numbers as needed.</p>
<h2 id="yield-from">
  Yield From
  <a class="anchor" href="#yield-from">#</a>
</h2>
<p>The yield from keyword allows you to yield from an iterable/iterator one at a time:</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">lst_yielder</span>():
</span></span><span style="display:flex;"><span>    lst <span style="color:#f92672">=</span> [<span style="color:#ae81ff">0</span>, <span style="color:#ae81ff">1</span>, <span style="color:#ae81ff">2</span>, <span style="color:#ae81ff">3</span>]
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield from</span> lst
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>lst <span style="color:#f92672">=</span> lst_yielder()
</span></span><span style="display:flex;"><span>next(lst) <span style="color:#75715e"># 0</span>
</span></span><span style="display:flex;"><span>next(lst) <span style="color:#75715e"># 1</span>
</span></span><span style="display:flex;"><span>next(lst) <span style="color:#75715e"># 2</span>
</span></span><span style="display:flex;"><span>next(lst) <span style="color:#75715e"># 3</span>
</span></span></code></pre></div><p>However, one of the very cool things about yield from is that you can yield the results of another generator function, which makes it act sort of like recursion in a way.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">countdown</span>(n):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> k <span style="color:#f92672">&gt;</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield</span> n
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield from</span> countdown(n <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><p>When the function hits yield from countdown(n - 1), it makes another instance of countdown, with a lower value of n, which will then pause when it reaches yield n in the function body.</p>
<h2 id="generator-functions-with-returns">
  Generator Functions with Returns
  <a class="anchor" href="#generator-functions-with-returns">#</a>
</h2>
<p>Using a return keyword in a generator function does not work exactly as intended.</p>
<p>Remember how earlier it was mentioned that if a function was unable to find another yield statement, it would cause a StopIteration error? Well, what a return statement does traditionally is exit out of a function, which in this case means that no further yield statement will be found. As a result, a StopIteration error will occur.</p>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> x
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>list(f(<span style="color:#ae81ff">1</span>)) <span style="color:#75715e"># [1, 2]</span>
</span></span></code></pre></div><h3 id="with-return-values">
  With Return Values
  <a class="anchor" href="#with-return-values">#</a>
</h3>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">f</span>(x):
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> x
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">return</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">1</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">yield</span> x <span style="color:#f92672">+</span> <span style="color:#ae81ff">2</span>
</span></span><span style="display:flex;"><span>
</span></span><span style="display:flex;"><span>list(f(<span style="color:#ae81ff">1</span>)) <span style="color:#75715e"># [1, 2]</span>
</span></span></code></pre></div><p>Notice how nothing changed? Return values can&rsquo;t be yielded in this way. There is a way to yield these return values, but it is not in the scope of CS61A.</p>
<h2 id="count-partitions-yield">
  Count Partitions (Yield)
  <a class="anchor" href="#count-partitions-yield">#</a>
</h2>
<div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4;"><code class="language-python" data-lang="python"><span style="display:flex;"><span><span style="color:#66d9ef">def</span> <span style="color:#a6e22e">partitions</span>(n, m):
</span></span><span style="display:flex;"><span>    <span style="color:#e6db74">&#34;&#34;&#34;List partitions.
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &gt;&gt;&gt; for p in partitions(6, 4): print(p)
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    4 + 2
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    4 + 1 + 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    3 + 3
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    3 + 2 + 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    3 + 1 + 1 + 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    2 + 2 + 2
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    2 + 2 + 1 + 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    2 + 1 + 1 + 1 + 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    1 + 1 + 1 + 1 + 1 + 1
</span></span></span><span style="display:flex;"><span><span style="color:#e6db74">    &#34;&#34;&#34;</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">if</span> n <span style="color:#f92672">&lt;</span> <span style="color:#ae81ff">0</span> <span style="color:#f92672">or</span> m <span style="color:#f92672">==</span> <span style="color:#ae81ff">0</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">return</span>
</span></span><span style="display:flex;"><span>    <span style="color:#66d9ef">else</span>:
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">if</span> n <span style="color:#f92672">==</span> m:
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">yield</span> str(m)
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">for</span> p <span style="color:#f92672">in</span> partitions(n <span style="color:#f92672">-</span> m, m):
</span></span><span style="display:flex;"><span>            <span style="color:#66d9ef">yield</span> <span style="color:#e6db74">f</span><span style="color:#e6db74">&#34;</span><span style="color:#e6db74">{</span>m<span style="color:#e6db74">}</span><span style="color:#e6db74"> + </span><span style="color:#e6db74">{</span>p<span style="color:#e6db74">}</span><span style="color:#e6db74">&#34;</span>
</span></span><span style="display:flex;"><span>        <span style="color:#66d9ef">yield from</span> partitions(n, m <span style="color:#f92672">-</span> <span style="color:#ae81ff">1</span>)
</span></span></code></pre></div><p>This one is a bit difficult to understand. Let&rsquo;s break it down:</p>
<ol>
<li>
<p>The base case <code>n &lt; 0 or m == 0</code> has a return statement in it. What this means is that if we ever get to the point where either of these cases happen, a StopIteration error will occur, which in this program, means that specific combination will not be yielded.</p>
</li>
<li>
<p>In the case where <code>n == m</code>, it means that there will only be one possible combination to make up that partition, so that specific partition size will be yielded.</p>
</li>
<li>
<p>Afterwards, we use a for loop to deal with the case where we do use m (because using yield from does not allow you to change the values that you want to yield), then just yield from the case where m isn&rsquo;t used and it decreases by 1.</p>
</li>
</ol>
</article>
 
      

      <footer class="book-footer">
        
  <div class="flex flex-wrap justify-between">





</div>



  <script>(function(){function e(e){const t=window.getSelection(),n=document.createRange();n.selectNodeContents(e),t.removeAllRanges(),t.addRange(n)}document.querySelectorAll("pre code").forEach(t=>{t.addEventListener("click",function(){if(window.getSelection().toString())return;e(t.parentElement),navigator.clipboard&&navigator.clipboard.writeText(t.parentElement.textContent)})})})()</script>


 
        
      </footer>

      
  
  <div class="book-comments">

</div>
  
 

      <label for="menu-control" class="hidden book-menu-overlay"></label>
    </div>

    
    <aside class="book-toc">
      <div class="book-toc-content">
        
  
<nav id="TableOfContents">
  <ul>
    <li><a href="#what-is-a-generator">What is a Generator</a>
      <ul>
        <li><a href="#how-generators-work">How Generators Work</a></li>
        <li><a href="#why-use-generators">Why Use Generators?</a>
          <ul>
            <li><a href="#example-fibonacci-numbers">Example: Fibonacci Numbers</a></li>
          </ul>
        </li>
        <li><a href="#yield-from">Yield From</a></li>
        <li><a href="#generator-functions-with-returns">Generator Functions with Returns</a>
          <ul>
            <li><a href="#with-return-values">With Return Values</a></li>
          </ul>
        </li>
        <li><a href="#count-partitions-yield">Count Partitions (Yield)</a></li>
      </ul>
    </li>
  </ul>
</nav>


 
      </div>
    </aside>
    
  </main>

  
</body>
</html>












